<!DOCTYPE html>
<html lang="th">
<head>
┬а <meta charset="UTF-8">
┬а <title>р╕гр╕░р╕Ър╕Ър╕Ир╕нр╕Зр╕Щр╕▒р╕Ф р╕гр╕Ю.р╕зр╕╡р╕гр╕░р╕Юр╕ер╕Бр╕▓р╕гр╣Бр╕Юр╕Чр╕вр╣М</title>
┬а <meta name="viewport" content="width=device-width, initial-scale=1">

┬а ┬а <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
┬а ┬а <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@400;600&display=swap" rel="stylesheet">
┬а <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
┬а <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">

┬а <style>
┬а ┬а body {
┬а ┬а ┬а font-family: 'Prompt', sans-serif;
┬а ┬а ┬а background: linear-gradient(to right, #e3f2fd, #f0f8ff);
┬а ┬а ┬а padding: 20px;
┬а ┬а }
┬а ┬а .form-card {
┬а ┬а ┬а background: white;
┬а ┬а ┬а border-radius: 20px;
┬а ┬а ┬а box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
┬а ┬а ┬а padding: 30px;
┬а ┬а ┬а max-width: 600px;
┬а ┬а ┬а margin: 40px auto;
┬а ┬а }
┬а ┬а h3 {
┬а ┬а ┬а text-align: center;
┬а ┬а ┬а margin-bottom: 30px;
┬а ┬а ┬а font-weight: 600;
┬а ┬а ┬а color: #0d6efd;
┬а ┬а }
┬а ┬а .logo {
┬а ┬а ┬а display: block;
┬а ┬а ┬а margin: 0 auto 20px;
┬а ┬а ┬а width: 100px;
┬а ┬а }
┬а ┬а .btn-primary {
┬а ┬а ┬а background-color: #0d6efd;
┬а ┬а ┬а border: none;
┬а ┬а }
┬а ┬а .btn-primary:hover {
┬а ┬а ┬а background-color: #0b5ed7;
┬а ┬а }
┬а ┬а .btn-line {
┬а ┬а ┬а background-color: #00c300;
┬а ┬а ┬а color: white;
┬а ┬а }
┬а ┬а .btn-line:hover {
┬а ┬а ┬а background-color: #00a000;
┬а ┬а }
┬а ┬а label {
┬а ┬а ┬а font-weight: 500;
┬а ┬а }
┬а </style>
</head>
<body>

┬а <div class="form-card">
┬а ┬а ┬а ┬а <div class="text-center mb-3">
┬а ┬а ┬а <img src="https://raw.githubusercontent.com/amnaj5412/appointment-form/main/logo.png"
┬а ┬а ┬а ┬а ┬а ┬аalt="р╣Вр╕ер╣Вр╕Бр╣Йр╣Вр╕гр╕Зр╕Юр╕вр╕▓р╕Ър╕▓р╕е"
┬а ┬а ┬а ┬а ┬а ┬аstyle="max-width: 160px; height: auto;">
┬а ┬а </div>

┬а ┬а <h3>р╕гр╕░р╕Ър╕Ър╕Ир╕нр╕Зр╕Щр╕▒р╕Ф</h3>

┬а ┬а <form id="bookingForm">
┬а ┬а ┬а <div class="mb-3">
┬а ┬а ┬а ┬а <label>р╕Кр╕╖р╣Ир╕нр╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в</label>
┬а ┬а ┬а ┬а <input type="text" class="form-control" name="patient_name" required>
┬а ┬а ┬а </div>
┬а ┬а ┬а <div class="mb-3">
┬а ┬а ┬а ┬а <label>р╣Ар╕ер╕Вр╕Ър╕▒р╕Хр╕гр╕Ыр╕гр╕░р╕Кр╕▓р╕Кр╕Щ</label>
┬а ┬а ┬а ┬а <input type="text" class="form-control" name="citizen_id" pattern="\d{13}" maxlength="13" required>
┬а ┬а ┬а </div>
┬а ┬а ┬а <div class="mb-3">
┬а ┬а ┬а ┬а <label>р╣Ар╕Ър╕нр╕гр╣Мр╣Вр╕Чр╕г</label>
┬а ┬а ┬а ┬а <input type="tel" class="form-control" name="phone" required>
┬а ┬а ┬а </div>
┬а ┬а ┬а <div class="mb-3">
┬а ┬а ┬а ┬а <label>р╣Бр╕Юр╕Чр╕вр╣Мр╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Юр╕Ъ</label>
┬а ┬а ┬а ┬а <select class="form-select" name="doctor" required>
┬а ┬а ┬а ┬а ┬а <option value="">-- р╕Бр╕гр╕╕р╕Ур╕▓р╣Ар╕ер╕╖р╕нр╕Б --</option>
┬а ┬а ┬а ┬а ┬а <option>р╕Щр╕Ю.р╕зр╕╡р╕гр╕░р╕Юр╕е р╕Юр╕Ир╕Щр╣Мр╕Ир╕ер╕нр╕Зр╕ир╕┤р╕ер╕Ыр╣М</option>
┬а ┬а ┬а ┬а ┬а <option>р╕Щр╕Ю.р╕Юр╕Щр╕┤р╕К р╕Юр╕Ир╕Щр╣Мр╕Ир╕ер╕нр╕Зр╕ир╕┤р╕ер╕Ыр╣М</option>
┬а ┬а ┬а ┬а ┬а <option>р╕Юр╕Н.р╕кр╕╕р╕бр╕Ур╕Чр╕┤р╕Юр╕вр╣М р╕Юр╕Ир╕Щр╣Мр╕Ир╕ер╕нр╕Зр╕ир╕┤р╕ер╕Ыр╣М</option>
┬а ┬а ┬а ┬а ┬а <option>р╕Юр╕Н.р╕Ър╕╕р╕йр╕Ър╕Зр╕Бр╣М р╕Фр╕зр╕Зр╕бр╕▓р╕Хр╕вр╣Мр╕Юр╕е</option>
┬а ┬а ┬а ┬а </select>
┬а ┬а ┬а </div>
┬а ┬а ┬а <div class="mb-3">
┬а ┬а ┬а ┬а <label>р╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╕Щр╕▒р╕Ф</label>
┬а ┬а ┬а ┬а <input type="text" id="date" class="form-control" name="date" required>
┬а ┬а ┬а </div>
┬а ┬а ┬а <div class="mb-3">
┬а ┬а ┬а ┬а <label>р╕Кр╣Ир╕зр╕Зр╣Ар╕зр╕ер╕▓р╕Чр╕╡р╣Ир╕Щр╕▒р╕Ф</label>
┬а ┬а ┬а ┬а <select class="form-select" name="time" required>
┬а ┬а ┬а ┬а ┬а <option value="">-- р╕Бр╕гр╕╕р╕Ур╕▓р╣Ар╕ер╕╖р╕нр╕Б --</option>
┬а ┬а ┬а ┬а ┬а <option>09:00 - 12:00</option>
┬а ┬а ┬а ┬а ┬а <option>13:00 - 16:00</option>
┬а ┬а ┬а ┬а </select>
┬а ┬а ┬а </div>
┬а ┬а ┬а <button type="submit" class="btn btn-primary w-100">р╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Бр╕▓р╕гр╕Ир╕нр╕З</button>
┬а ┬а </form>

┬а ┬а <div class="text-center mt-4">
┬а ┬а ┬а <a href="https://line.me/R/ti/p/@981gqmdr" target="_blank" class="btn btn-line w-100">
┬а ┬а ┬а ┬а ЁЯТм р╣Бр╕Кр╕Чр╕Бр╕▒р╕Ър╣Ар╕Ир╣Йр╕▓р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣Ир╕Ьр╣Ир╕▓р╕Щ LINE
┬а ┬а ┬а </a>
┬а ┬а </div>
┬а </div>

┬а ┬а <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
┬а <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/th.js"></script>
┬а <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

┬а <script>
┬а ┬а // Flatpickr: р╕Ю.р╕и. (р╣Вр╕Др╣Йр╕Фр╕кр╣Ир╕зр╕Щр╕Щр╕╡р╣Йр╕вр╕▒р╕Зр╕Др╕Зр╣Ар╕Фр╕┤р╕б)
┬а ┬а flatpickr("#date", {
┬а ┬а ┬а dateFormat: "d/m/Y",
┬а ┬а ┬а locale: "th",
┬а ┬а ┬а altInput: true,
┬а ┬а ┬а altFormat: "d/m/Y",
┬а ┬а ┬а onReady: function(selectedDates, dateStr, instance) {
┬а ┬а ┬а ┬а const yearElem = instance.currentYearElement;
┬а ┬а ┬а ┬а if (yearElem) {
┬а ┬а ┬а ┬а ┬а const year = parseInt(yearElem.value);
┬а ┬а ┬а ┬а ┬а if (!isNaN(year) && year < 2500) {
┬а ┬а ┬а ┬а ┬а ┬а yearElem.value = year + 543;
┬а ┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а ┬а yearElem.addEventListener("blur", function() {
┬а ┬а ┬а ┬а ┬а ┬а let val = parseInt(this.value);
┬а ┬а ┬а ┬а ┬а ┬а if (!isNaN(val)) {
┬а ┬а ┬а ┬а ┬а ┬а ┬а if (val < 2400) this.value = val + 543;
┬а ┬а ┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а ┬а });
┬а ┬а ┬а ┬а }
┬а ┬а ┬а },
┬а ┬а ┬а onChange: function(selectedDates, dateStr, instance) {
┬а ┬а ┬а ┬а const y = selectedDates[0].getFullYear();
┬а ┬а ┬а ┬а if (y < 2500) {
┬а ┬а ┬а ┬а ┬а instance.currentYearElement.value = y + 543;
┬а ┬а ┬а ┬а }
┬а ┬а ┬а }
┬а ┬а });

┬а ┬а // р╕кр╣Ир╕зр╕Щ JavaScript р╕Чр╕╡р╣Ир╣Бр╕Бр╣Йр╣Др╕Вр╣Бр╕ер╣Йр╕зр╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Бр╕▒р╕Ъ PHP (XAMPP)
┬а ┬а const form = document.getElementById('bookingForm');
┬а ┬а form.addEventListener('submit', function(e) {
┬а ┬а ┬а e.preventDefault();
┬а ┬а ┬а const data = Object.fromEntries(new FormData(form).entries());

┬а ┬а ┬а // *** р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щ URL р╕Хр╕гр╕Зр╕Щр╕╡р╣Йр╣Гр╕лр╣Йр╕Кр╕╡р╣Йр╣Др╕Ыр╕вр╕▒р╕Зр╣Др╕Яр╕ер╣М PHP р╕Вр╕нр╕Зр╕Др╕╕р╕Ур╕Ър╕Щ XAMPP ***
┬а ┬а ┬а // р╕лр╕▓р╕Бр╣Др╕Яр╕ер╣М HTML р╕Щр╕╡р╣Й (index.html) р╕нр╕вр╕╣р╣Ир╣Гр╕Щр╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣М htdocs р╣Ар╕Фр╕╡р╕вр╕зр╕Бр╕▒р╕Ъ api.php
┬а ┬а ┬а // р╣Бр╕ер╕░р╕Др╕╕р╕Ур╣Ар╕Ыр╕┤р╕Фр╕Ьр╣Ир╕▓р╕Щ http://localhost/index.html р╕Др╕╕р╕Ур╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Гр╕Кр╣Й 'http://localhost/api.php'
┬а ┬а ┬а // р╕лр╕▓р╕Б HTML р╕Вр╕нр╕Зр╕Др╕╕р╕Ур╕нр╕вр╕╣р╣Ир╕Ър╕Щ GitHub Pages р╕Др╕╕р╕Ур╕Ир╕░р╕Хр╣Йр╕нр╕Зр╣Гр╕Кр╣Й IP р╕кр╕▓р╕Шр╕▓р╕гр╕Ур╕░р╕Вр╕нр╕Зр╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕Чр╕╡р╣Ир╕гр╕▒р╕Щ XAMPP
┬а ┬а ┬а // р╕лр╕гр╕╖р╕нр╣Вр╕Фр╣Ар╕бр╕Щр╕Чр╕╡р╣Ир╣Ар╕Кр╕╖р╣Ир╕нр╕бр╣Вр╕вр╕Зр╕Бр╕▒р╕Ъ IP р╕Щр╕▒р╣Йр╕Щ р╣Ар╕Кр╣Ир╕Щ 'http://your_public_ip/api.php'
┬а ┬а ┬а fetch('http://localhost/api.php', { // <--- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ URL р╕Щр╕╡р╣Йр╣Гр╕лр╣Йр╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕Зр╕Хр╕▓р╕бр╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╕Вр╕нр╕Зр╕Др╕╕р╕У
┬а ┬а ┬а ┬а method: 'POST',
┬а ┬а ┬а ┬а body: JSON.stringify(data),
┬а ┬а ┬а ┬а headers: { 'Content-Type': 'application/json' }
┬а ┬а ┬а })
┬а ┬а ┬а .then(res => res.json()) // р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щ .text() р╣Ар╕Ыр╣Зр╕Щ .json() р╣Ар╕Юр╕гр╕▓р╕░ PHP р╕Ир╕░р╕кр╣Ир╕З JSON р╕Бр╕ер╕▒р╕Ър╕бр╕▓
┬а ┬а ┬а .then(response => {
┬а ┬а ┬а ┬а if (response.status === 'success') { // р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Ир╕▓р╕Б property 'status' р╣Гр╕Щ JSON response р╕Чр╕╡р╣И PHP р╕кр╣Ир╕Зр╕бр╕▓
┬а ┬а ┬а ┬а ┬а Swal.fire({
┬а ┬а ┬а ┬а ┬а ┬а icon: 'success',
┬а ┬а ┬а ┬а ┬а ┬а title: 'р╕Ир╕нр╕Зр╕Щр╕▒р╕Фр╕кр╕│р╣Ар╕гр╣Зр╕И!',
┬а ┬а ┬а ┬а ┬а ┬а text: 'р╕Вр╕нр╕Ър╕Др╕╕р╕Ур╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╕Ър╕гр╕┤р╕Бр╕▓р╕г',
┬а ┬а ┬а ┬а ┬а ┬а confirmButtonColor: '#0d6efd'
┬а ┬а ┬а ┬а ┬а });
┬а ┬а ┬а ┬а ┬а form.reset();
┬а ┬а ┬а ┬а } else {
┬а ┬а ┬а ┬а ┬а Swal.fire({
┬а ┬а ┬а ┬а ┬а ┬а icon: 'error',
┬а ┬а ┬а ┬а ┬а ┬а title: 'р╣Ар╕Бр╕┤р╕Фр╕Вр╣Йр╕нр╕Ьр╕┤р╕Фр╕Юр╕ер╕▓р╕Ф',
┬а ┬а ┬а ┬а ┬а ┬а text: 'р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Др╕Фр╣Й: ' + (response.message || 'Unknown error'), // р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б error р╕Ир╕▓р╕Б backend
┬а ┬а ┬а ┬а ┬а ┬а confirmButtonColor: '#d33'
┬а ┬а ┬а ┬а ┬а });
┬а ┬а ┬а ┬а }
┬а ┬а ┬а })
┬а ┬а ┬а .catch((error) => {
┬а ┬а ┬а ┬а Swal.fire({
┬а ┬а ┬а ┬а ┬а icon: 'error',
┬а ┬а ┬а ┬а ┬а title: 'р╕гр╕░р╕Ър╕Ър╕Ьр╕┤р╕Фр╕Юр╕ер╕▓р╕Ф',
┬а ┬а ┬а ┬а ┬а text: 'р╕Бр╕гр╕╕р╕Ур╕▓р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Ар╕Др╕гр╕╖р╕нр╕Вр╣Ир╕▓р╕вр╕лр╕гр╕╖р╕нр╣Ар╕Лр╕┤р╕гр╣Мр╕Яр╣Ар╕зр╕нр╕гр╣М: ' + error,
┬а ┬а ┬а ┬а ┬а confirmButtonColor: '#d33'
┬а ┬а ┬а ┬а });
┬а ┬а ┬а });
┬а ┬а });
┬а </script>
</body>
</html>
